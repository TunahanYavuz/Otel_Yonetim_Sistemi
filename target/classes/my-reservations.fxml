<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>

<?import javafx.collections.FXCollections?>
<?import java.lang.String?>
<ScrollPane fitToWidth="true" styleClass="scroll-pane" stylesheets="@style.css"
      xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="ymt_odev.Controllers.MyReservationsController">
<VBox spacing="20" styleClass="dashboard-content">
    <padding>
        <Insets top="20" bottom="20" left="20" right="20"/>
    </padding>

    <!-- BaÅŸlÄ±k -->
    <HBox alignment="CENTER_LEFT" spacing="15">
        <Text text="ðŸ“…" styleClass="hotel-icon" style="-fx-font-size: 32px;"/>
        <Text text="RezervasyonlarÄ±m" styleClass="main-title"/>
        <Region HBox.hgrow="ALWAYS"/>
        <Button text="ðŸ  Ana MenÃ¼" styleClass="action-button" onAction="#goToMainMenu"
                style="-fx-background-color: linear-gradient(to bottom, #95a5a6, #7f8c8d);"/>
    </HBox>

    <Separator/>

    <!-- Filtre AlanÄ± -->
    <HBox spacing="15" alignment="CENTER_LEFT" styleClass="form-container">
        <padding>
            <Insets top="15" bottom="15" left="20" right="20"/>
        </padding>

        <VBox spacing="5">
            <Text text="ðŸ“Š Durum Filtresi:" styleClass="info-text"/>
            <ComboBox fx:id="reservationStatusFilter" prefWidth="180">
                <items>
                    <FXCollections fx:factory="observableArrayList">
                        <String fx:value="TÃ¼mÃ¼"/>
                        <String fx:value="Beklemede"/>
                        <String fx:value="OnaylandÄ±"/>
                        <String fx:value="GiriÅŸ YapÄ±ldÄ±"/>
                        <String fx:value="TamamlandÄ±"/>
                        <String fx:value="Ä°ptal Edildi"/>
                    </FXCollections>
                </items>
            </ComboBox>
        </VBox>

        <VBox spacing="5">
            <Text text="ðŸ“… BaÅŸlangÄ±Ã§:" styleClass="info-text"/>
            <DatePicker fx:id="filterStartDate" prefWidth="150"/>
        </VBox>

        <VBox spacing="5">
            <Text text="ðŸ“… BitiÅŸ:" styleClass="info-text"/>
            <DatePicker fx:id="filterEndDate" prefWidth="150"/>
        </VBox>

        <Region HBox.hgrow="ALWAYS"/>

        <Button text="ðŸ” Filtrele" styleClass="action-button" onAction="#filterReservations">
            <VBox.margin>
                <Insets top="20"/>
            </VBox.margin>
        </Button>
        <Button text="ðŸ”„ Temizle" styleClass="secondary-button" onAction="#clearFilters">
            <VBox.margin>
                <Insets top="20"/>
            </VBox.margin>
        </Button>
    </HBox>

    <!-- Rezervasyon Listesi -->
    <VBox spacing="10" VBox.vgrow="ALWAYS">
        <HBox alignment="CENTER_LEFT" spacing="15">
            <Text text="ðŸ“‹ Rezervasyon Listesi" styleClass="section-title"/>
            <Region HBox.hgrow="ALWAYS"/>
            <Text fx:id="reservationCountText" text="0 rezervasyon" styleClass="info-text"/>
        </HBox>

        <TableView fx:id="reservationsTable" styleClass="modern-table" prefHeight="300">
            <columns>
                <TableColumn text="Rezervasyon No" fx:id="reservationIdColumn" prefWidth="130"/>
                <TableColumn text="Oda" fx:id="roomColumn" prefWidth="80"/>
                <TableColumn text="GiriÅŸ Tarihi" fx:id="checkInColumn" prefWidth="110"/>
                <TableColumn text="Ã‡Ä±kÄ±ÅŸ Tarihi" fx:id="checkOutColumn" prefWidth="110"/>
                <TableColumn text="Misafir" fx:id="guestCountColumn" prefWidth="70"/>
                <TableColumn text="Tutar" fx:id="totalPriceColumn" prefWidth="100"/>
                <TableColumn text="Durum" fx:id="statusColumn" prefWidth="100"/>
                <TableColumn text="Ä°ÅŸlemler" fx:id="actionsColumn" prefWidth="120"/>
            </columns>
        </TableView>
    </VBox>

    <!-- Rezervasyon DetaylarÄ± -->
    <VBox fx:id="reservationDetailsPanel" spacing="15" styleClass="form-container" visible="false">
        <padding>
            <Insets top="20" bottom="20" left="25" right="25"/>
        </padding>

        <Text text="ðŸ“‹ Rezervasyon DetaylarÄ±" styleClass="section-title"/>

        <GridPane hgap="20" vgap="12">
            <columnConstraints>
                <ColumnConstraints percentWidth="25"/>
                <ColumnConstraints percentWidth="25"/>
                <ColumnConstraints percentWidth="25"/>
                <ColumnConstraints percentWidth="25"/>
            </columnConstraints>

            <!-- SatÄ±r 1 -->
            <VBox spacing="5" GridPane.columnIndex="0" GridPane.rowIndex="0">
                <Text text="Rezervasyon No:" styleClass="info-text"/>
                <Text fx:id="detailReservationId" text="-" styleClass="info-detail"/>
            </VBox>

            <VBox spacing="5" GridPane.columnIndex="1" GridPane.rowIndex="0">
                <Text text="Oda:" styleClass="info-text"/>
                <Text fx:id="detailRoomInfo" text="-" styleClass="info-detail"/>
            </VBox>

            <VBox spacing="5" GridPane.columnIndex="2" GridPane.rowIndex="0">
                <Text text="Tarihler:" styleClass="info-text"/>
                <Text fx:id="detailDates" text="-" styleClass="info-detail"/>
            </VBox>

            <VBox spacing="5" GridPane.columnIndex="3" GridPane.rowIndex="0">
                <Text text="Misafir SayÄ±sÄ±:" styleClass="info-text"/>
                <Text fx:id="detailGuestCount" text="-" styleClass="info-detail"/>
            </VBox>

            <!-- SatÄ±r 2 -->
            <VBox spacing="5" GridPane.columnIndex="0" GridPane.rowIndex="1">
                <Text text="Toplam Tutar:" styleClass="info-text"/>
                <Text fx:id="detailTotalPrice" text="-" styleClass="info-detail"/>
            </VBox>

            <VBox spacing="5" GridPane.columnIndex="1" GridPane.rowIndex="1">
                <Text text="Ã–deme YÃ¶ntemi:" styleClass="info-text"/>
                <Text fx:id="detailPaymentMethod" text="-" styleClass="info-detail"/>
            </VBox>

            <VBox spacing="5" GridPane.columnIndex="2" GridPane.rowIndex="1">
                <Text text="Ã–deme Durumu:" styleClass="info-text"/>
                <Text fx:id="detailPaymentStatus" text="-" styleClass="info-detail"/>
            </VBox>

            <VBox spacing="5" GridPane.columnIndex="3" GridPane.rowIndex="1">
                <Text text="Durum:" styleClass="info-text"/>
                <Text fx:id="detailStatus" text="-" styleClass="info-detail"/>
            </VBox>
        </GridPane>

        <!-- Ã–zel Ä°stekler -->
        <VBox spacing="8">
            <Text text="ðŸ“ Ã–zel Ä°stekler:" styleClass="info-text"/>
            <TextArea fx:id="specialRequestsArea" editable="false" prefHeight="60" wrapText="true"
                      styleClass="modern-textfield"/>
        </VBox>

        <!-- Ä°ÅŸlem ButonlarÄ± -->
        <HBox spacing="15" alignment="CENTER_RIGHT">
            <Button text="âŒ Rezervasyonu Ä°ptal Et" fx:id="cancelButton" onAction="#cancelReservation"
                    styleClass="action-button"
                    style="-fx-background-color: linear-gradient(to bottom, #e74c3c, #c0392b);"/>
        </HBox>
    </VBox>

</VBox>
</ScrollPane>
