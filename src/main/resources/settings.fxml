<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>

<?import javafx.collections.FXCollections?>
<?import java.lang.String?>
<VBox spacing="20" styleClass="dashboard-content" stylesheets="@style.css"
      xmlns="http://javafx.com/javafx/21.0.5" xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="ymt_odev.Controllers.SettingsController">
    <padding>
        <Insets top="20" bottom="20" left="20" right="20"/>
    </padding>

    <!-- BaÅŸlÄ±k -->
    <HBox alignment="CENTER_LEFT" spacing="15">
        <Text text="âš™ï¸" styleClass="hotel-icon" style="-fx-font-size: 32px;"/>
        <Text text="Sistem AyarlarÄ±" styleClass="main-title"/>
    </HBox>

    <Separator/>

    <!-- Ayar Kategorileri -->
    <TabPane VBox.vgrow="ALWAYS" tabClosingPolicy="UNAVAILABLE" styleClass="modern-table">

        <!-- Genel Ayarlar -->
        <Tab text="ðŸ¨ Genel Ayarlar">
            <ScrollPane fitToWidth="true">
                <VBox spacing="20">
                    <padding>
                        <Insets top="20" bottom="20" left="25" right="25"/>
                    </padding>

                    <VBox spacing="15" styleClass="form-container">
                        <padding>
                            <Insets top="20" bottom="20" left="25" right="25"/>
                        </padding>

                        <Text text="ðŸ¨ Otel Bilgileri" styleClass="section-title"/>

                        <VBox spacing="8">
                            <Text text="Otel AdÄ±:" styleClass="info-text"/>
                            <TextField text="Grand Hotel" styleClass="modern-textfield"/>
                        </VBox>

                        <VBox spacing="8">
                            <Text text="Adres:" styleClass="info-text"/>
                            <TextArea text="Ä°stanbul, TÃ¼rkiye" prefHeight="80" wrapText="true"
                                      styleClass="modern-textfield"/>
                        </VBox>

                        <HBox spacing="15">
                            <VBox spacing="8" HBox.hgrow="ALWAYS">
                                <Text text="Telefon:" styleClass="info-text"/>
                                <TextField text="+90 212 XXX XX XX" styleClass="modern-textfield"/>
                            </VBox>

                            <VBox spacing="8" HBox.hgrow="ALWAYS">
                                <Text text="E-posta:" styleClass="info-text"/>
                                <TextField text="info@grandhotel.com" styleClass="modern-textfield"/>
                            </VBox>
                        </HBox>
                    </VBox>

                    <VBox spacing="15" styleClass="form-container">
                        <padding>
                            <Insets top="20" bottom="20" left="25" right="25"/>
                        </padding>

                        <Text text="â° Zaman AyarlarÄ±" styleClass="section-title"/>

                        <HBox spacing="15">
                            <VBox spacing="8">
                                <Text text="Check-in Saati:" styleClass="info-text"/>
                                <ComboBox prefWidth="120">
                                    <items>
                                        <FXCollections fx:factory="observableArrayList">
                                            <String fx:value="12:00"/>
                                            <String fx:value="13:00"/>
                                            <String fx:value="14:00"/>
                                            <String fx:value="15:00"/>
                                        </FXCollections>
                                    </items>
                                </ComboBox>
                            </VBox>

                            <VBox spacing="8">
                                <Text text="Check-out Saati:" styleClass="info-text"/>
                                <ComboBox prefWidth="120">
                                    <items>
                                        <FXCollections fx:factory="observableArrayList">
                                            <String fx:value="10:00"/>
                                            <String fx:value="11:00"/>
                                            <String fx:value="12:00"/>
                                        </FXCollections>
                                    </items>
                                </ComboBox>
                            </VBox>
                        </HBox>
                    </VBox>
                </VBox>
            </ScrollPane>
        </Tab>

        <!-- FiyatlandÄ±rma -->
        <Tab text="ðŸ’° FiyatlandÄ±rma">
            <ScrollPane fitToWidth="true">
                <VBox spacing="20">
                    <padding>
                        <Insets top="20" bottom="20" left="25" right="25"/>
                    </padding>

                    <VBox spacing="15" styleClass="form-container">
                        <padding>
                            <Insets top="20" bottom="20" left="25" right="25"/>
                        </padding>

                        <Text text="ðŸ’µ Oda FiyatlarÄ± (â‚º/Gece)" styleClass="section-title"/>

                        <GridPane hgap="15" vgap="12">
                            <columnConstraints>
                                <ColumnConstraints percentWidth="50"/>
                                <ColumnConstraints percentWidth="50"/>
                            </columnConstraints>

                            <VBox spacing="8" GridPane.columnIndex="0" GridPane.rowIndex="0">
                                <Text text="Standart Oda:" styleClass="info-text"/>
                                <TextField fx:id="priceStandart" text="500" styleClass="modern-textfield"/>
                            </VBox>

                            <VBox spacing="8" GridPane.columnIndex="1" GridPane.rowIndex="0">
                                <Text text="Deluxe Oda:" styleClass="info-text"/>
                                <TextField fx:id="priceDeluxe" text="800" styleClass="modern-textfield"/>
                            </VBox>

                            <VBox spacing="8" GridPane.columnIndex="0" GridPane.rowIndex="1">
                                <Text text="Suite:" styleClass="info-text"/>
                                <TextField fx:id="priceSuite" text="1200" styleClass="modern-textfield"/>
                            </VBox>

                            <VBox spacing="8" GridPane.columnIndex="1" GridPane.rowIndex="1">
                                <Text text="Aile:" styleClass="info-text"/>
                                <TextField fx:id="priceAile" text="1000" styleClass="modern-textfield"/>
                            </VBox>

                            <VBox spacing="8" GridPane.columnIndex="0" GridPane.rowIndex="2">
                                <Text text="Penthouse:" styleClass="info-text"/>
                                <TextField fx:id="pricePenthouse" text="2500" styleClass="modern-textfield"/>
                            </VBox>
                        </GridPane>
                    </VBox>

                    <VBox spacing="15" styleClass="form-container">
                        <padding>
                            <Insets top="20" bottom="20" left="25" right="25"/>
                        </padding>

                        <Text text="ðŸŽ Ek Ã–zellik FiyatlarÄ± (â‚º/Gece)" styleClass="section-title"/>

                        <GridPane hgap="15" vgap="12">
                            <columnConstraints>
                                <ColumnConstraints percentWidth="50"/>
                                <ColumnConstraints percentWidth="50"/>
                            </columnConstraints>

                            <VBox spacing="8" GridPane.columnIndex="0" GridPane.rowIndex="0">
                                <Text text="Deniz ManzarasÄ±:" styleClass="info-text"/>
                                <TextField fx:id="priceSeaView" text="150" styleClass="modern-textfield"/>
                            </VBox>

                            <VBox spacing="8" GridPane.columnIndex="1" GridPane.rowIndex="0">
                                <Text text="Balkon:" styleClass="info-text"/>
                                <TextField fx:id="priceBalcony" text="100" styleClass="modern-textfield"/>
                            </VBox>

                            <VBox spacing="8" GridPane.columnIndex="0" GridPane.rowIndex="1">
                                <Text text="Jakuzi:" styleClass="info-text"/>
                                <TextField fx:id="priceJacuzzi" text="200" styleClass="modern-textfield"/>
                            </VBox>

                            <VBox spacing="8" GridPane.columnIndex="1" GridPane.rowIndex="1">
                                <Text text="Mutfak:" styleClass="info-text"/>
                                <TextField fx:id="priceKitchen" text="120" styleClass="modern-textfield"/>
                            </VBox>
                        </GridPane>
                    </VBox>

                    <HBox spacing="15" alignment="CENTER">
                        <Button text="ðŸ’¾ FiyatlarÄ± Kaydet" styleClass="primary-button" onAction="#savePricingConfig"/>
                        <Button text="ðŸ”„ TÃ¼m Oda FiyatlarÄ±nÄ± GÃ¼ncelle" styleClass="action-button" onAction="#updateAllRoomPrices"/>
                    </HBox>
                </VBox>
            </ScrollPane>
        </Tab>

        <!-- VeritabanÄ± -->
        <Tab text="ðŸ—„ï¸ VeritabanÄ±">
            <VBox spacing="20" alignment="CENTER">
                <padding>
                    <Insets top="30" bottom="30" left="30" right="30"/>
                </padding>

                <VBox spacing="15" styleClass="form-container" maxWidth="600">
                    <padding>
                        <Insets top="25" bottom="25" left="30" right="30"/>
                    </padding>

                    <Text text="ðŸ—„ï¸ VeritabanÄ± BaÄŸlantÄ±sÄ±" styleClass="section-title"/>

                    <HBox spacing="15">
                        <VBox spacing="8" HBox.hgrow="ALWAYS">
                            <Text text="Sunucu:" styleClass="info-text"/>
                            <TextField fx:id="dbServerField" text="localhost" styleClass="modern-textfield"/>
                        </VBox>

                        <VBox spacing="8">
                            <Text text="Port:" styleClass="info-text"/>
                            <TextField fx:id="dbPortField" text="1433" prefWidth="100" styleClass="modern-textfield"/>
                        </VBox>
                    </HBox>

                    <VBox spacing="8">
                        <Text text="VeritabanÄ± AdÄ±:" styleClass="info-text"/>
                        <TextField fx:id="dbNameField" text="otel_db" styleClass="modern-textfield"/>
                    </VBox>

                    <HBox spacing="15">
                        <VBox spacing="8" HBox.hgrow="ALWAYS">
                            <Text text="KullanÄ±cÄ± AdÄ±:" styleClass="info-text"/>
                            <TextField fx:id="dbUsernameField" text="otel" styleClass="modern-textfield"/>
                        </VBox>

                        <VBox spacing="8" HBox.hgrow="ALWAYS">
                            <Text text="Åžifre:" styleClass="info-text"/>
                            <PasswordField fx:id="dbPasswordField" styleClass="modern-textfield"/>
                        </VBox>
                    </HBox>

                    <HBox spacing="15" alignment="CENTER">
                        <Button text="ðŸ”„ BaÄŸlantÄ±yÄ± Test Et" styleClass="action-button" onAction="#testConnection"/>
                        <Button text="ðŸ’¾ Kaydet" styleClass="primary-button" onAction="#saveDbConfig"/>
                    </HBox>
                </VBox>

                <VBox spacing="15" styleClass="stat-card" maxWidth="600">
                    <padding>
                        <Insets top="20" bottom="20" left="30" right="30"/>
                    </padding>

                    <Text text="âš ï¸ Tehlikeli BÃ¶lge" styleClass="section-title"
                          style="-fx-fill: #e74c3c;"/>
                    <Text text="Yedekleme ve veritabanÄ± iÅŸlemleri" styleClass="info-detail"/>

                    <HBox spacing="15" alignment="CENTER">
                        <Button text="ðŸ’¾ Yedek Al" styleClass="secondary-button" onAction="#backupDatabase"/>
                        <Button text="ðŸ“¥ Yedek YÃ¼kle" styleClass="secondary-button" onAction="#restoreBackup"/>
                        <Button text="ðŸ—‘ï¸ VeritabanÄ±nÄ± Temizle" styleClass="action-button"
                                style="-fx-background-color: linear-gradient(to bottom, #e74c3c, #c0392b);" onAction="#purgeDatabase"/>
                    </HBox>
                </VBox>
            </VBox>
        </Tab>

        <!-- Sistem Bilgisi -->
        <Tab text="â„¹ï¸ Sistem Bilgisi">
            <VBox spacing="20" alignment="CENTER">
                <padding>
                    <Insets top="30" bottom="30" left="30" right="30"/>
                </padding>

                <VBox spacing="15" styleClass="form-container" alignment="CENTER" maxWidth="500">
                    <padding>
                        <Insets top="30" bottom="30" left="40" right="40"/>
                    </padding>

                    <Text text="ðŸ¨" styleClass="hotel-icon"/>
                    <Text text="Otel YÃ¶netim Sistemi" styleClass="main-title"/>
                    <Text text="Versiyon 1.0.0" styleClass="subtitle"/>

                    <Separator prefWidth="300"/>

                    <VBox spacing="8" alignment="CENTER">
                        <Text text="GeliÅŸtirilme Tarihi: 2025" styleClass="info-detail"/>
                        <Text text="JavaFX ile geliÅŸtirilmiÅŸtir" styleClass="info-detail"/>
                        <Text text="Â© 2025 TÃ¼m haklarÄ± saklÄ±dÄ±r" styleClass="info-detail"/>
                    </VBox>
                </VBox>
            </VBox>
        </Tab>

    </TabPane>

    <!-- Kaydet Butonu -->
    <HBox spacing="15" alignment="CENTER">
        <Button text="ðŸ’¾ DeÄŸiÅŸiklikleri Kaydet" styleClass="primary-button" prefWidth="200" onAction="#saveChanges"/>
        <Button text="â†©ï¸ VarsayÄ±lana DÃ¶n" styleClass="secondary-button" prefWidth="180" onAction="#revertDefaults"/>
    </HBox>

</VBox>
